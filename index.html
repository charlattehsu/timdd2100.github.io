<html>
<body>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    Name: <input type="text" id="name"><br><br>
    Sex: <input type="text" id="sex"><br><br>
    Amount: <input type="text" id="amount"><br><br><br>

    <input type="button" value="送出" onclick="SendScore()">
	
	<input type="button" value="產生所有QRCode" onclick="GenerateQR()">
	
    <script type="text/javascript">
		getUrlParameter("name")
		getUrlParameter("sex")
		
        function SendScore(){
            $.get("https://script.google.com/macros/s/AKfycbzCRViSXokcRIdNnhz_7XbCY0mSitljB_XZlCh9E-Ie1TRGa-4/exec", {
                        "name": document.getElementById("name").value,
                        "sex": document.getElementById("sex").value,
                        "amount": document.getElementById("amount").value
                    },
                    function (data) {
                        document.write("--------------------------");
                        document.write("Result = "+data);
                        document.write("--------------------------");
                    });
		}
		
		function GenerateQR(){
            $.get("https://script.google.com/macros/s/AKfycbyLnXGi0a41Ubjy5lCeBIuPMLpMw3Nc4sg9p-938bJ6BS9cJPM/exec",
                    function (data) {
                        document.write("--------------------------");
                        document.write("Create QR List = "+data);
                        document.write("--------------------------");
                    });
		}
		
		function getUrlParameter(name) {
			name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
			var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
			var results = regex.exec(location.search);
			var temp = results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
			if(temp != '')
			{
				console.log('get value:'+temp)
				document.getElementById(name).value = temp;
				document.getElementById(name).disabled = true
			}
		}
		
    </script>
</body>
</html>